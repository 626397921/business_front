# 重新实现全选、反选和记住选中功能

## 问题分析
用户反馈说全选、反选、记住选中功能都没有实现。通过检查代码，我发现以下问题：

1. **全选功能**：虽然添加了 `@select-all` 事件处理，但可能没有正确实现全选所有页的逻辑
2. **反选功能**：反选逻辑可能没有正确实现
3. **记住选中**：跨页选中状态可能没有正确保持

## 修复计划

### 1. 优化表格配置
- 确保表格正确配置了 `row-key` 属性
- 确保选择列正确配置了 `reserve-selection` 属性

### 2. 重新实现全选功能
- 修改 `handleSelectAll` 函数，确保点击全选时能选中所有页的记录
- 实现全选状态的正确管理

### 3. 重新实现反选功能
- 在 `handleSelectAll` 函数中实现反选逻辑
- 确保点击全选时，如果已经有部分选中的记录，则会选中除已选中记录外的所有记录

### 4. 重新实现记住选中功能
- 优化 `totalSelectedIds` 和 `currentPageSelectedIds` 的管理
- 确保在切换页码时，之前选中的记录能正确保持
- 优化 `restoreCurrentPageSelection` 函数，确保在数据加载后正确恢复选中状态

### 5. 测试验证
- 测试跨页选中功能：在不同页码之间切换，验证选中记录是否保持
- 测试全选功能：点击全选，验证是否选中所有页的记录
- 测试反选功能：选中部分记录后点击全选，验证是否选中除已选中记录外的所有记录
- 测试分页操作：切换页码和改变每页显示数量，验证选中状态是否保持

## 技术实现要点
- 使用 `Set` 类型存储选中的记录ID，确保唯一性
- 利用 Element Plus 的 `reserve-selection` 属性实现跨页选中
- 在表格的 `select-all` 事件中实现全选和反选逻辑
- 在数据加载后，根据 `totalSelectedIds` 恢复选中状态
- 确保所有修改操作后，选中状态正确更新

通过以上修复，确保全选、反选和记住选中功能能够正确实现。